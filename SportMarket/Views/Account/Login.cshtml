@model SportMarket.ViewModels.LoginViewModel
@{
    Layout = "_Layout";
}

<link href="~/css/authorization.css" rel="stylesheet" />
<div class="authorization">
    <div class="authorization__content">
        <div class="authorization__content__form">
            <form asp-controller="Account" asp-action="Login" method="post" onsubmit="return submitUserForm();">
                <div class="authorization__form__header">
                    <a asp-controller="Account" asp-action="Login" class="authorization__form__header__item _active__form__item _unselectable">
                        <h3>Вхід</h3>
                    </a>
                    <a asp-controller="Account" asp-action="Registration" class="authorization__form__header__item _unselectable">
                        <h3>Реєстрація</h3>
                    </a>
                </div>
                <div class="authorization__form__content">
                    <div class="authorization__form__item">
                        <input type="email" asp-for="Email">
                        <span class="input__display _unselectable">Email</span>
                        <span>
                            <h6><span asp-validation-for="Email"></span></h6>
                        </span>
                    </div>
                    <div class="authorization__form__item under__remember">
                        <input type="password" class="input__password" asp-for="Password">
                        <span class="input__display _unselectable">Введіть пароль</span>
                        <div class="view__eye">
                            <svg version="1.0" xmlns="http://www.w3.org/2000/svg" width="48.000000pt"
                                 height="48.000000pt" viewBox="0 0 48.000000 48.000000"
                                 preserveAspectRatio="xMidYMid meet">

                                <g transform="translate(0.000000,48.000000) scale(0.100000,-0.100000)"
                                   fill="#000000" stroke="none">
                                    <path d="M180 381 c-81 -26 -180 -104 -180 -141 0 -26 64 -86 125 -118 70 -37
160 -37 230 0 61 32 125 92 125 118 0 26 -64 87 -124 117 -52 26 -135 38 -176
24z m133 -37 c26 -9 69 -36 95 -60 l47 -44 -47 -44 c-48 -44 -118 -76 -168
-76 -50 0 -120 32 -168 76 l-47 44 48 44 c76 71 152 90 240 60z" />
                                    <path d="M179 301 c-20 -20 -29 -39 -29 -61 0 -43 47 -90 90 -90 43 0 90 47
90 90 0 43 -47 90 -90 90 -22 0 -41 -9 -61 -29z m101 -21 c11 -11 20 -29 20
-40 0 -26 -34 -60 -60 -60 -26 0 -60 34 -60 60 0 11 9 29 20 40 11 11 29 20
40 20 11 0 29 -9 40 -20z" />
                                </g>
                            </svg>

                        </div>
                        <span>
                            <h6><span asp-validation-for="Password"></span></h6>
                        </span>
                    </div>
                    <div class="authorization__form__item remember__checkbox">
                        <div class="_checkbox">
                            <input class="_checkbox__content" type="checkbox" id="Remember" asp-for="RememberMe"
                                   value="true">
                            <label for="Remember"></label>
                        </div>
                        <h6>Запам'ятати мене</h6>
                    </div>
                    <div class="authorization__form__item">
                        <div class="g-recaptcha" data-sitekey="6LeQROEfAAAAAANcgXn0oQRg7k7iNIBOOs-gSiIA" data-callback="verifyCaptcha"></div>
                        <div id="g-recaptcha-error"></div>
                    </div>
                    <div class="authorization__form__item">
                        <input class="authorization__form__submit" type="submit" value="Увійти">
                    </div>
                    <div class="line">
                        <span>або</span>
                    </div>
                    <a asp-controller="Account" asp-action="GoogleLogin" class="login-with-google-btn">Sign in with Google</a>
                </div>
            </form>
            <script src='https://www.google.com/recaptcha/api.js'></script>
            <script>
                var recaptcha_response = '';
                function submitUserForm() {
                    if (recaptcha_response.length == 0) {
                        document.getElementById('g-recaptcha-error').innerHTML = `<span class="text1 field-validation-error">Це обов'язкове поле</span>`;
                        return false;
                    }
                    return true;
                }

                function verifyCaptcha(token) {
                    recaptcha_response = token;
                    document.getElementById('g-recaptcha-error').innerHTML = '';
                }
            </script>
        </div>
    </div>
</div>
<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/jquery.validate.unobtrusive.min.js"></script>